
# 常见问题与解决方案

> 「Shitama」应该如何使用？

启动「Shitama」，「Shitama」启动后会自动更新服务器列表，根据延迟进行排序并自动选择延迟最低的服务器。启动「东方非想天则」，进入网络对战并建立主机，监听端口保持默认，即「10800」。点击「中转」按钮获取中转地址，点击「复制」按钮将中转地址复制到剪贴板中，粘贴并发送给其他玩家，其他玩家即可通过这个地址进行对战。

> 「Shitama」启动后所有按钮都处于禁用状态？

所有按钮都处于禁用状态，意味着客户端没有和服务端建立连接。关闭「Shitama.exe」，单独启动「client.exe」，观察输出中的错误以发现问题。

DNS解析失败是比较常见的原因之一，已经为此情况做了容错，若此情况仍有发生，可以与我联系，或通过更新DNS服务器及添加「hosts」条目解决。

> 「Shitama」的中转主机无法观战？

「东方非想天则」通过建立一个P2P网络进行观战数据的分发，「Shitama」通过调整数据包中的地址修复了中转主机的观战支持。「东方非想天则」可以观战的条件是：观战者在主机的帮助下能与其他客户端建立至少一条连接。当所有客户端都处于「类端口限制型NAT」或「类对称型NAT」后时，仅使用「东方非想天则」内置的UDP穿透机制是无法建立连接的。
